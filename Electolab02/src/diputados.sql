CREATE USER IF NOT EXISTS SA SALT '0839a276cd3ebf4b' HASH 'e505304c17d51c1ee9f4a5f74f18284e7d78cb6d7ba62479096fbdf0400a93b3' ADMIN;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_38D0241F_DDDE_4E0F_ADF6_6671A2366062 START WITH 19 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_3FBD7F36_AD2B_4698_9000_53F2A214481F START WITH 23 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_347ED3E5_DAEE_46D9_BD40_97FD876D2D69 START WITH 52 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_4C3BE292_1F89_477E_8355_AAD5DBF5CF86 START WITH 7 BELONGS_TO_TABLE;
CREATE CACHED TABLE PUBLIC.DEPARTAMENTOS(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_4C3BE292_1F89_477E_8355_AAD5DBF5CF86) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_4C3BE292_1F89_477E_8355_AAD5DBF5CF86,
    NOMBRE VARCHAR(255) NOT NULL,
    ACRONIMO VARCHAR(3) NOT NULL
);
ALTER TABLE PUBLIC.DEPARTAMENTOS ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(ID);
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.DEPARTAMENTOS;
INSERT INTO PUBLIC.DEPARTAMENTOS(ID, NOMBRE, ACRONIMO) VALUES
(1, STRINGDECODE('Ingenier\u00eda de Sistemas Telem\u00e1ticos'), 'DIT'),
(2, STRINGDECODE('Se\u00f1ales, Sistemas y Radiocomunicaciones'), 'SSR'),
(3, STRINGDECODE('Tecnolog\u00eda Fot\u00f3nica y Bioingenier\u00eda'), 'TFB'),
(4, STRINGDECODE('Matem\u00e1tica Aplicada a las Tecnolog\u00edas de la Informaci\u00f3n y las Comunicaciones'), 'MAT'),
(5, STRINGDECODE('Ingenier\u00eda Electr\u00f3nica'), 'DIE'),
(6, STRINGDECODE('Electr\u00f3nica F\u00edsica'), 'IES');
CREATE CACHED TABLE PUBLIC.PROFESORES(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_38D0241F_DDDE_4E0F_ADF6_6671A2366062) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_38D0241F_DDDE_4E0F_ADF6_6671A2366062,
    NOMBRE VARCHAR(255) NOT NULL,
    NRP VARCHAR(15) NOT NULL,
    DESPACHO VARCHAR(5) NOT NULL,
    EMAIL VARCHAR(255) NOT NULL,
    DEPARTAMENTO INTEGER NOT NULL
);
ALTER TABLE PUBLIC.PROFESORES ADD CONSTRAINT PUBLIC.CONSTRAINT_D4C PRIMARY KEY(ID);
-- 18 +/- SELECT COUNT(*) FROM PUBLIC.PROFESORES;
INSERT INTO PUBLIC.PROFESORES(ID, NOMBRE, NRP, DESPACHO, EMAIL, DEPARTAMENTO) VALUES
(1, STRINGDECODE('Alejandro Alonso Mu\u00f1oz'), '123456', 'B319', 'aalonso@dit.upm.es', 1),
(2, STRINGDECODE('Gregorio Fern\u00e1ndez Fern\u00e1ndez'), '12346', 'B208', 'gfer@dit.upm.es', 1),
(3, 'Encarna Pastor', '12347', 'B218', 'encarna@dit.upm.es', 1),
(4, 'Juan Antonio de la Puente', '12348', 'B318', 'jpuente@dit.upm.es', 1),
(5, 'Juan Quemada Vives ', '12349', 'B202', 'jquemada@dit.upm.es', 1),
(6, STRINGDECODE('Monica Cort\u00e9s Sack'), '12350', 'B202', 'cortesm@dit.upm.es', 1),
(7, STRINGDECODE('David Fern\u00e1ndez Cambronero'), '12351', 'B216', 'david@dit.upm.es', 1),
(8, STRINGDECODE('Gabriel Huecas Fern\u00e1ndez-Toribio'), '12353', 'B212', 'gabriel@dit.upm.es', 1),
(9, STRINGDECODE('Carlos \u00c1ngel Iglesias'), '12354', 'C211', 'cif@dit.upm.es', 1),
(10, STRINGDECODE('Miguel \u00c1ngel de Miguel'), '12355', 'B323', 'mmiguel@dit.upm.es', 1),
(11, STRINGDECODE('Santiago Pav\u00f3n G\u00f3mez'), '12356', 'B212', 'santiago@dit.upm.es', 1),
(12, STRINGDECODE('Tom\u00e1s Robles Valladares'), '12357', 'B213', 'robles@dit.upm.es', 1),
(13, STRINGDECODE('Joaqu\u00edn Salvach\u00faa'), '12358', 'C219', 'jsalvachua@dit.upm.es', 1),
(14, STRINGDECODE('V\u00edctor Abraham Villagr\u00e1'), '12359', 'B217', 'villagra@dit.upm.es', 1),
(15, STRINGDECODE('\u00c1ngel \u00c1lvarez-Rodr\u00edguez'), '12360', 'C218', 'aalvarez@dit.upm.es', 1),
(16, STRINGDECODE('Juan Carlos Due\u00f1as'), '12361', 'C213', 'jcduenas@dit.upm.es', 1),
(17, 'Juan Carlos Yelmo', '12362', 'C217', 'jcyelmo@dit.upm.es', 1),
(18, STRINGDECODE('Jos\u00e9 Mar\u00eda del \u00c1lamo'), '12363', 'B204', 'jmdela@dit.upm.es', 1);
CREATE CACHED TABLE PUBLIC.ASIGNATURAS(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_3FBD7F36_AD2B_4698_9000_53F2A214481F) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_3FBD7F36_AD2B_4698_9000_53F2A214481F,
    CURSO INTEGER NOT NULL,
    SEMESTRE INTEGER NOT NULL,
    ACRONIMO VARCHAR(5) NOT NULL,
    NOMBRE VARCHAR(255) NOT NULL,
    DEPARTAMENTO INTEGER NOT NULL
);
ALTER TABLE PUBLIC.ASIGNATURAS ADD CONSTRAINT PUBLIC.CONSTRAINT_A PRIMARY KEY(ID);
-- 17 +/- SELECT COUNT(*) FROM PUBLIC.ASIGNATURAS;
INSERT INTO PUBLIC.ASIGNATURAS(ID, CURSO, SEMESTRE, ACRONIMO, NOMBRE, DEPARTAMENTO) VALUES
(1, 1, 1, 'FTEL', STRINGDECODE('Fundamentos de los Sistemas Telem\u00e1ticos'), 1),
(2, 1, 2, 'PROG', STRINGDECODE('Programaci\u00f3n'), 1),
(3, 2, 1, 'TEWC', STRINGDECODE('Tecnolog\u00edas Web de Cliente'), 1),
(4, 2, 2, 'RSTC', STRINGDECODE('Redes y Servicios de Telecomunicaci\u00f3n'), 1),
(5, 2, 2, 'ADSW', STRINGDECODE('An\u00e1lisis y Dise\u00f1o de Software'), 1),
(6, 3, 1, 'TINF', STRINGDECODE('Teor\u00eda de la Informaci\u00f3n'), 1),
(7, 3, 1, 'RDOR', 'Redes de Ordenadores', 1),
(8, 3, 2, 'CORE', STRINGDECODE('Computaci\u00f3n en Red'), 1),
(9, 4, 1, 'RECO', 'Redes Corporativas', 1),
(10, 4, 1, 'SEGU', STRINGDECODE('Seguridad en Sistemas y Redes de Telecomunicaci\u00f3n'), 1),
(11, 4, 1, 'RCMO', STRINGDECODE('Redes de Comunicaciones M\u00f3viles'), 1),
(12, 4, 1, 'IWEB', STRINGDECODE('Ingenier\u00eda Web'), 1),
(13, 4, 1, 'CDPS', STRINGDECODE('Centros de Datos y Provisi\u00f3n de Servicios'), 1),
(14, 4, 2, 'DORE', STRINGDECODE('Dimensionado y Operaci\u00f3n de Redes'), 1),
(15, 4, 2, 'ISST', STRINGDECODE('Ingenier\u00eda de Sistemas y Servicios Telem\u00e1ticos'), 1),
(16, 4, 2, 'RSDR', 'Redes y servicios de radio', 1),
(17, 4, 2, 'TFG', 'Trabajo Fin de Grado', 1);
CREATE CACHED TABLE PUBLIC.ASIGNACIONES(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_347ED3E5_DAEE_46D9_BD40_97FD876D2D69) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_347ED3E5_DAEE_46D9_BD40_97FD876D2D69,
    ASIGNATURA INTEGER NOT NULL,
    PROFESOR INTEGER NOT NULL
);
ALTER TABLE PUBLIC.ASIGNACIONES ADD CONSTRAINT PUBLIC.CONSTRAINT_8D PRIMARY KEY(ID);
-- 51 +/- SELECT COUNT(*) FROM PUBLIC.ASIGNACIONES;
INSERT INTO PUBLIC.ASIGNACIONES(ID, ASIGNATURA, PROFESOR) VALUES
(1, 1, 3),
(2, 1, 4),
(3, 1, 5),
(4, 2, 1),
(5, 2, 6),
(6, 2, 10),
(7, 2, 11),
(8, 2, 12),
(9, 2, 16),
(10, 3, 9),
(11, 5, 1),
(12, 5, 4),
(13, 5, 8),
(14, 5, 9),
(15, 5, 15),
(16, 6, 8),
(17, 6, 14),
(18, 7, 7),
(19, 8, 5),
(20, 8, 11),
(21, 8, 13),
(22, 8, 17),
(23, 8, 18),
(24, 10, 14),
(25, 12, 8),
(26, 12, 11),
(27, 12, 13),
(28, 13, 1),
(29, 13, 7),
(30, 13, 13),
(31, 15, 16),
(32, 15, 17),
(33, 15, 18),
(34, 17, 1),
(35, 17, 2),
(36, 17, 3),
(37, 17, 4),
(38, 17, 5),
(39, 17, 6),
(40, 17, 7),
(41, 17, 8),
(42, 17, 9),
(43, 17, 10),
(44, 17, 11),
(45, 17, 12),
(46, 17, 13),
(47, 17, 14),
(48, 17, 15),
(49, 17, 16),
(50, 17, 17),
(51, 17, 18);
ALTER TABLE PUBLIC.PROFESORES ADD CONSTRAINT PUBLIC.CONSTRAINT_D UNIQUE(NRP);
ALTER TABLE PUBLIC.PROFESORES ADD CONSTRAINT PUBLIC.CONSTRAINT_D4 UNIQUE(EMAIL);
ALTER TABLE PUBLIC.PROFESORES ADD CONSTRAINT PUBLIC.CONSTRAINT_D4C5 FOREIGN KEY(DEPARTAMENTO) REFERENCES PUBLIC.DEPARTAMENTOS(ID) NOCHECK;
ALTER TABLE PUBLIC.ASIGNACIONES ADD CONSTRAINT PUBLIC.CONSTRAINT_8DBC FOREIGN KEY(PROFESOR) REFERENCES PUBLIC.PROFESORES(ID) NOCHECK;
ALTER TABLE PUBLIC.ASIGNATURAS ADD CONSTRAINT PUBLIC.CONSTRAINT_AA FOREIGN KEY(DEPARTAMENTO) REFERENCES PUBLIC.DEPARTAMENTOS(ID) NOCHECK;
ALTER TABLE PUBLIC.ASIGNACIONES ADD CONSTRAINT PUBLIC.CONSTRAINT_8DB FOREIGN KEY(ASIGNATURA) REFERENCES PUBLIC.ASIGNATURAS(ID) NOCHECK;